<!DOCTYPE html>
<html lang="en">
<head>
	<title>login</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="登录界面" />
	<script type="application/x-javascript">
		addEventListener("load", function() {
			setTimeout(hideURLbar, 0);
			}, false);

		function hideURLbar() {
			window.scrollTo(0,1);
		}
	</script>
	<link href="css/style-login.css" rel="stylesheet" type="text/css" media="all" />
	<link href="css/font-awesome.css" rel="stylesheet">
	<script src="js/jquery.min.js"></script>
	<script src="js/script.js"></script>
</head>
<body>
	<!-- main -->
	<div class="main-agile">
		<h1>进入这个交友网站</h1>
		<div id="w3ls_form" class="signin-form">
			<!-- Sign In Form -->
			<form id="signin" action="login" method="post" onsubmit="return checkLoginForm()" >
				<div class="ribbon"><a href="#" id="flipToRecover" class="flipLink" title="点击注册">注册</a></div>
				<h2>登录</h2>
				<input type="text" id="username" name="username" placeholder="用户名" required=""/>
				<input type="password" id="password" name="password" placeholder="密码" required=""/>	 
				<input type="checkbox" id="brand" value="">
				<label for="brand"><span></span> 记住我 ?</label> 
				<input type="submit" value="登录">
				<div class="signin-agileits-bottom"> 
					<p><a href="#">忘记密码 ?</a></p>    
				</div> 
			</form>
			<!-- //Sign In Form -->
			<!-- Sign up Form-->
			<form id="signup" action="user/signIn" method="post">
				<div class="ribbon"><a href="#" id="flipToRecover1" class="flipLink" title="点击登录">登录</a></div>
				<h3>注册</h3>
				<input type="text" name="username" placeholder="用户名" required=""/>
				<input type="text" name="email" placeholder="你的邮箱" required=""/>
				<input type="password" name="password" placeholder="密码" required=""/>	
				<input type="checkbox" id="brand1" value="">
				<label for="brand1"><span></span>我同意用户协议</label> 
				<input type="submit" value="注册"> 
			</form>
			<!-- Sign up Form-->
		</div>
	</div>	
	<!-- //main --> 
	
	<script>
  $(function(){
    if("${error}"){
      $('#submit').attr('value',"${error}").css('background','red');
    }

    if("${message}"){
      layer.msg('${message}', {
        offset: 0,
      });
    }

    $('.close').on('click', function(c){
      $('.login-form').fadeOut('slow', function(c){
        $('.login-form').remove();
      });
    });

    $('#username,#password').change(function(){
      $('#submit').attr('value','Login').css('background','#3ea751');
    });
  });

  /**
   * check the login form before user login.
   * @returns {boolean}
   */
  function checkLoginForm(){
    var username = $('#username').val();
    var password = $('#password').val();
    if(isNull(username) && isNull(password)){
      $('#submit').attr('value','请输入账号和密码!!!').css('background','red');
      return false;
    }
    if(isNull(username)){
      $('#submit').attr('value','请输入账号!!!').css('background','red');
      return false;
    }
    if(isNull(password)){
      $('#submit').attr('value','请输入密码!!!').css('background','red');
      return false;
    }
    else{
      $('#submit').attr('value','Logining~');
      return true;
    }
  }

  function isNull(input){
    if(input == null || input == '' || input == undefined){
      return true;
    }
    else{
      return false;
    }
  }
</script>
</body>
</html>